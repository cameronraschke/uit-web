<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="stylesheet" href="/css/desktop.css" />
    <link rel="stylesheet" href="/css/inventory.css" />
    <script nonce="{{ .JsNonce }}" type="text/javascript" src="/js/init.js"></script>
    <title>Inventory - ITSC Mgmt</title>
  </head>
  <body>
    <div id="uit-header"></div>
    <script nonce="{{ .JsNonce }}" type="text/javascript" src="/js/header.js"></script>
    <div><h1>UIT - ITSC Inventory Management</h1></div>
    <div id="main-content"><h2>Update and View Inventory</h2></div>

    <div class="flex-container inventory">
      <div class="flex-box">
        <p id="existing-inventory-message" class="warning-message"></p>
        <form id="inventory-form-lookup">
          <div>
            <input type="text" id="inventory-tag-lookup"
              placeholder="Enter Tag Number"
              minlength="6"
              maxlength="6"
              autocomplete="off"
              autocorrect="off"
              autocapitalize="off"
              pattern="[0-9]{6}"
              autofocus
              />
              <input type="text" id="inventory-serial-lookup"
                placeholder="Enter Serial Number"
                minlength="4"
                maxlength="50"
                autocomplete="off"
                autocorrect="off"
                autocapitalize="off"
                pattern="[A-Za-z0-9\-_]{1,50}"
                />
          </div>
          <div><button type="submit" id="inventory-lookup-button">Fetch Inventory</button><button type="reset" id="inventory-reset-button">Reset Search</button></div>
          </form>
          <div class="vertical-spacer"></div>
          <form>
            <input type="hidden" id="csrf-token" value="" />
            <div>
              <input type="text" id="location" placeholder="Location" maxlength="64" autocomplete="off" />
              <input type="text" id="system_model" name="system_model" 
                placeholder="Model" 
                maxlength="128" 
                autocomplete="off"
                autocorrect="off"
                autocapitalize="off" />
              <select id="department" name="department">
                <option value="" disabled selected>Select Department</option>
                <option value="">None</option>
                {{- range $department, $departmentReadable := .Departments }}
                <option value="{{ $department }}">{{ $departmentReadable }}</option>
                {{- end }}
              </select>
            </div>

            <div><label for="inventory-file-input">Upload Inventory Image(s):</label></div>
            <div><input type="file" id="inventory-file-input" accept=".jpeg,.jpg,.png,.gif" multiple /></div>
            <div class="vertical-spacer"></div>
            <div><input type="submit" id="inventory-submit-button" class="submit" value="Submit Inventory Update" /></div>
            <div><p id="inventory-error" class="error-message"></p></div>
          </form>
      </div>

      <div class="grid-container inventory">
        <form id="inventory-search-form">
          <div>
            <div><label for="inventory-search-tagnumber">Search Inventory:</label></div>
            <div><button type="button" id="inventory-refresh-button">Refresh Inventory</button></div>
            <div><input type="text" id="inventory-search-tagnumber" name="tagnumber" 
            form="inventory-search-form" 
            placeholder="Tag Number"
            pattern="[0-9]*" /></div>
          </div>
          <div><select id="inventory-search-model" name="model" form="inventory-search-form"></select></div>
          <div><select id="inventory-search-location" name="location" form="inventory-search-form"></select></div>
          <div><select id="inventory-search-status" name="status" form="inventory-search-form"></select></div>
        </form>
      </div>
    </div>

        <div id="inventory-search-container">
          <input id="inventory-search" type="text" placeholder="Filter inventory...">
        </div>
    <div class="flex-box inventory inventory-summary">
        <table id="inventory-summary-table">
          <thead id="inventory-table-head">
            <tr>
              <th>Tag Number</th>
              <th>Live View</th>
              <th>Serial Number</th>
              <th>Model</th>
              <th>Location</th>
              <th>Status</th>
              <th>Time of Entry</th>
            </tr>
          </thead>
          <tbody id="inventory-table-body"></tbody>
          <tfoot>
            <tr>
              <td colspan="7">End of Inventory</td>
            </tr>
          </tfoot>
        </table>
    </div>


    <div id="uit-footer" class="flex-container footer"></div>
    <script nonce="{{ .JsNonce }}" type="text/javascript" src="/js/footer.js"></script>
    <script nonce="{{ .JsNonce }}" type="text/javascript" src="/js/inventory.js"></script>
  </body>
</html>